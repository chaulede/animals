<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¬éŸ³è¯†åŠ¨ç‰© - ä¸­æ–‡å­¦ä¹ </title>
    <style>
        body { font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; text-align: center; background-color: #f7f9fc; padding: 20px; }
        .game-container { max-width: 500px; margin: auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .animal-image { width: 100%; max-width: 250px; height: auto; border-radius: 15px; margin: 15px 0; border: 3px solid #eee; cursor: pointer; transition: transform 0.2s; }
        .animal-image:active { transform: scale(0.95); }
        .hint-text { color: #888; font-size: 0.9rem; margin-bottom: 20px; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        button { 
            padding: 12px; font-size: 1.4rem; cursor: pointer; border: 2px solid #e0e0e0; 
            background: #fff; border-radius: 10px; transition: 0.2s; 
        }
        button:hover { border-color: #4a90e2; background: #f0f7ff; transform: translateY(-2px); }
        button:disabled { background: #eee; cursor: not-allowed; opacity: 0.6; }
        .pinyin { display: block; font-size: 0.85rem; color: #666; margin-top: 4px; }
        #feedback { height: 40px; margin-top: 20px; font-size: 1.4rem; font-weight: bold; }
        #start-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); display: flex; align-items: center; justify-content: center; z-index: 10; }
    </style>
</head>
<body>

<div id="start-screen">
    <button onclick="startGame()" style="padding: 20px 40px; font-size: 2rem; background: #4a90e2; color: white;">å¼€å§‹æ¸¸æˆ ğŸ”Š</button>
</div>

<div class="game-container">
    <h1>ğŸ”Š å¬éŸ³é€‰è¯</h1>
    <div id="feedback"></div>
    
    <div onclick="playAnimalSound()">
        <img id="target-img" src="" alt="ç‚¹å‡»å¬å£°éŸ³" class="animal-image">
        <p class="hint-text">ç‚¹å‡»å›¾ç‰‡å†å¬ä¸€æ¬¡å«å£°</p>
    </div>

    <div class="options-grid" id="btn-group"></div>
</div>

<script>
    [cite_start]// åŠ¨ç‰©æ•°æ®é…ç½® [cite: 11-20]
    const animals = [
        { name: 'ç‰›', pinyin: 'niÃº', img: 'cow.png', sound: 'cow.mp3' },
        { name: 'é©¬', pinyin: 'mÇ', img: 'horse.png', sound: 'horse.mp3' },
        { name: 'ç¾Š', pinyin: 'yÃ¡ng', img: 'sheep.png', sound: 'sheep.mp3' },
        { name: 'çŒª', pinyin: 'zhÅ«', img: 'pig.png', sound: 'pig.mp3' },
        { name: 'é¸¡', pinyin: 'jÄ«', img: 'rooster.png', sound: 'rooster.mp3' },
        { name: 'é¸­', pinyin: 'yÄ', img: 'duck.png', sound: 'duck.mp3' },
        { name: 'é¹…', pinyin: 'Ã©', img: 'goose.png', sound: 'goose.mp3' },
        { name: 'å…”', pinyin: 'tÃ¹', img: 'rabbit.png', sound: 'rabbit.mp3' },
        { name: 'ç‹—', pinyin: 'gÇ’u', img: 'dog.png', sound: 'dog.mp3' },
        { name: 'çŒ«', pinyin: 'mÄo', img: 'cat.png', sound: 'cat.mp3' }
    ];

    let current = {};
    let canClick = true;

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        initRound();
    }

    function playAnimalSound() {
        if (current.sound) {
            // ä½¿ç”¨ç›¸å¯¹äºå½“å‰ç½‘é¡µçš„è·¯å¾„
            let audio = new Audio('audio/' + current.sound);
            audio.play().catch(e => console.log("æ’­æ”¾å¤±è´¥ï¼Œè¯·å…ˆç‚¹å‡»é¡µé¢ä»»æ„å¤„", e));
        }
    }

    function initRound() {
        canClick = true;
        const fb = document.getElementById('feedback');
        fb.innerText = "";
        
        // éšæœºé€‰æ‹©åŠ¨ç‰©
        current = animals[Math.floor(Math.random() * animals.length)];
        
        // ç¡®ä¿å›¾ç‰‡è·¯å¾„æ­£ç¡®
        document.getElementById('target-img').src = 'images/' + current.img;
        
        // è‡ªåŠ¨æ’­æ”¾å£°éŸ³ (å»ºè®®ç¨å¾®å»¶è¿Ÿç­‰å›¾ç‰‡æ˜¾ç¤º)
        setTimeout(playAnimalSound, 500);

        // ç”Ÿæˆ4ä¸ªä¸é‡å¤çš„é€‰æ‹©é¡¹
        let choices = [current];
        while (choices.length < 4) {
            let r = animals[Math.floor(Math.random() * animals.length)];
            if (!choices.find(x => x.name === r.name)) choices.push(r);
        }
        
        // æ‰“ä¹±é¡ºåº
        choices.sort(() => Math.random() - 0.5);

        // æ¸²æŸ“æŒ‰é’®
        const group = document.getElementById('btn-group');
        group.innerHTML = "";
        choices.forEach(item => {
            const btn = document.createElement('button');
            btn.innerHTML = `${item.name}<span class="pinyin">${item.pinyin}</span>`;
            btn.onclick = () => check(item.name, btn);
            group.appendChild(btn);
        });
    }

    function check(selectedName, clickedBtn) {
        if (!canClick) return;
        
        const fb = document.getElementById('feedback');
        if (selectedName === current.name) {
            canClick = false;
            fb.innerText = "â­ æ­£ç¡®ï¼";
            fb.style.color = "#2ecc71";
            clickedBtn.style.borderColor = "#2ecc71";
            clickedBtn.style.background = "#eafaf1";
            
            // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€é¢˜
            setTimeout(initRound, 1500);
        } else {
            fb.innerText = "å†è¯•è¯•çœ‹ï¼ŸğŸ’ª";
            fb.style.color = "#e74c3c";
            clickedBtn.style.borderColor = "#e74c3c";
            clickedBtn.disabled = true; // é€‰é”™åç¦ç”¨è¯¥æŒ‰é’®
        }
    }
</script>
</body>
</html>