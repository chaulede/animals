<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¬éŸ³è¯†åŠ¨ç‰© - ä¸­æ–‡å­¦ä¹ </title>
    <style>
        body { font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; text-align: center; background-color: #f7f9fc; padding: 20px; }
        .game-container { max-width: 500px; margin: auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .animal-image { width: 100%; max-width: 250px; height: auto; border-radius: 15px; margin: 15px 0; border: 3px solid #eee; cursor: pointer; background: #fafafa; }
        .hint-text { color: #888; font-size: 0.9rem; margin-bottom: 20px; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        button { padding: 12px; font-size: 1.4rem; cursor: pointer; border: 2px solid #e0e0e0; background: #fff; border-radius: 10px; transition: 0.2s; }
        button:hover { border-color: #4a90e2; background: #f0f7ff; }
        .pinyin { display: block; font-size: 0.85rem; color: #666; margin-top: 4px; }
        #feedback { height: 40px; margin-top: 20px; font-size: 1.4rem; font-weight: bold; }
        #start-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; display: flex; align-items: center; justify-content: center; z-index: 10; }
        .start-btn { padding: 20px 40px; font-size: 1.5rem; background: #4a90e2; color: white; border: none; border-radius: 50px; cursor: pointer; }
    </style>
</head>
<body>

<div id="start-screen">
    <button class="start-btn" onclick="startGame()">å¼€å§‹æ¸¸æˆ ğŸ”Š</button>
</div>

<div class="game-container">
    <h1>ğŸ”Š å¬éŸ³é€‰è¯</h1>
    <div id="feedback"></div>
    <div onclick="playAnimalSound()">
        <img id="target-img" src="" alt="è¯·æ£€æŸ¥ images æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å" class="animal-image">
        <p class="hint-text">ç‚¹å‡»å›¾ç‰‡é‡å¤æ’­æ”¾å«å£°</p>
    </div>
    <div class="options-grid" id="btn-group"></div>
</div>

<script>
    const animals = [
        { name: 'ç‰›', pinyin: 'niÃº', img: 'cow.png', sound: 'cow.mp3' },
        { name: 'é©¬', pinyin: 'mÇ', img: 'horse.png', sound: 'horse.mp3' },
        { name: 'ç¾Š', pinyin: 'yÃ¡ng', img: 'sheep.png', sound: 'sheep.mp3' },
        { name: 'çŒª', pinyin: 'zhÅ«', img: 'pig.png', sound: 'pig.mp3' },
        { name: 'é¸¡', pinyin: 'jÄ«', img: 'rooster.png', sound: 'rooster.mp3' },
        { name: 'é¸­', pinyin: 'yÄ', img: 'duck.png', sound: 'duck.mp3' },
        { name: 'é¹…', pinyin: 'Ã©', img: 'goose.png', sound: 'goose.mp3' },
        { name: 'å…”', pinyin: 'tÃ¹', img: 'rabbit.png', sound: 'rabbit.mp3' },
        { name: 'ç‹—', pinyin: 'gÇ’u', img: 'dog.png', sound: 'dog.mp3' },
        { name: 'çŒ«', pinyin: 'mÄo', img: 'cat.png', sound: 'cat.mp3' }
    ];

    let current = {};

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        initRound();
    }

    function playAnimalSound() {
        if (current.sound) {
            // ä½¿ç”¨ç›¸å¯¹äºå½“å‰é¡µé¢çš„è·¯å¾„
            let audio = new Audio('./audio/' + current.sound);
            audio.play().catch(e => console.error("å£°éŸ³åŠ è½½å¤±è´¥:", e));
        }
    }

    function initRound() {
        document.getElementById('feedback').innerText = "";
        current = animals[Math.floor(Math.random() * animals.length)];
        
        // è®¾ç½®å›¾ç‰‡è·¯å¾„ï¼Œå¢åŠ æ§åˆ¶å°è°ƒè¯•
        const imgPath = './images/' + current.img;
        document.getElementById('target-img').src = imgPath;
        
        setTimeout(playAnimalSound, 500);

        let choices = [current];
        while (choices.length < 4) {
            let r = animals[Math.floor(Math.random() * animals.length)];
            if (!choices.find(x => x.name === r.name)) choices.push(r);
        }
        choices.sort(() => Math.random() - 0.5);

        const group = document.getElementById('btn-group');
        group.innerHTML = "";
        choices.forEach(item => {
            const btn = document.createElement('button');
            btn.innerHTML = `${item.name}<span class="pinyin">${item.pinyin}</span>`;
            btn.onclick = () => check(item.name);
            group.appendChild(btn);
        });
    }

    function check(selected) {
        const fb = document.getElementById('feedback');
        if (selected === current.name) {
            fb.innerText = "â­ æ­£ç¡®ï¼";
            fb.style.color = "#2ecc71";
            setTimeout(initRound, 1500);
        } else {
            fb.innerText = "å†è¯•è¯•çœ‹ï¼Ÿ";
            fb.style.color = "#e74c3c";
        }
    }
</script>
</body>
</html>
